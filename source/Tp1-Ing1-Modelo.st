Object subclass: #CatalogoDeExcavadorasRig	instanceVariableNames: 'catalogo'	classVariableNames: ''	poolDictionaries: ''	category: 'Tp1-Ing1-Modelo'!!CatalogoDeExcavadorasRig methodsFor: 'Accessing' stamp: 'JuanVanecek 4/8/2017 13:22'!registrar: unaExcavadoraRig aUnCostoPorDia: unPrecio porUnMinimoDeDias: unaCantidadDeDias	catalogo at: unaExcavadoraRig put: ((Array new: 2)		at: self indicePrecio put: unPrecio;		at: self indiceAlquilerMinimo put: unaCantidadDeDias;		yourself	)! !!CatalogoDeExcavadorasRig methodsFor: 'Accessing' stamp: 'JuanVanecek 4/8/2017 13:27'!conLosRegistrosHacer: aBlockClosure 	catalogo keysAndValuesDo: [:excavadora :datosAlquiler | 		aBlockClosure 			value: excavadora 			value: (datosAlquiler at: self indicePrecio)			value: (datosAlquiler at: self indiceAlquilerMinimo)		 ]! !!CatalogoDeExcavadorasRig methodsFor: 'Accessing' stamp: 'JuanVanecek 4/8/2017 13:24'!excavadorasDisponibles	^ catalogo keys! !!CatalogoDeExcavadorasRig methodsFor: 'Accessing-Private' stamp: 'JuanVanecek 4/8/2017 13:24'!indiceAlquilerMinimo	^ 2! !!CatalogoDeExcavadorasRig methodsFor: 'Accessing-Private' stamp: 'JuanVanecek 4/8/2017 13:23'!indicePrecio	^ 1! !!CatalogoDeExcavadorasRig methodsFor: 'Initialize' stamp: 'JuanVanecek 4/8/2017 13:23'!initialize	super initialize. 		catalogo := Dictionary new.! !Object subclass: #ExcavadoraRig	instanceVariableNames: 'profundidadPorDia consumoPorDia'	classVariableNames: ''	poolDictionaries: ''	category: 'Tp1-Ing1-Modelo'!!ExcavadoraRig methodsFor: 'Printing' stamp: 'JuanVanecek 4/9/2017 22:09'!printOn: aStream	aStream 		nextPutAll: 			('Excavadora que procesa {1} mts/dia consumiendo {2} lts/dia' 				format: { profundidadPorDia . consumoPorDia  })! !!ExcavadoraRig methodsFor: 'Initialize' stamp: 'JuanVanecek 4/8/2017 13:20'!initializePerforandoEnMetrosEnUnDia: unaMedidaEnMetros consumiendoEnLitros: unaMedidaEnLitros	profundidadPorDia := unaMedidaEnMetros.	consumoPorDia := unaMedidaEnLitros.! !!ExcavadoraRig methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 18:09'!profundidadPorDia	^ profundidadPorDia! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!ExcavadoraRig class	instanceVariableNames: ''!!ExcavadoraRig class methodsFor: 'Instance Creation' stamp: 'JuanVanecek 4/8/2017 13:19'!perforandoEnMetrosEnUnDia: unaMedidaEnMetros consumiendoEnLitros: unaMedidaEnLitros	^ self new 		initializePerforandoEnMetrosEnUnDia: unaMedidaEnMetros		consumiendoEnLitros: unaMedidaEnLitros! !Object subclass: #MantoGeologico	instanceVariableNames: 'nombre resistencia'	classVariableNames: ''	poolDictionaries: ''	category: 'Tp1-Ing1-Modelo'!!MantoGeologico methodsFor: 'Initialize' stamp: 'JuanVanecek 4/9/2017 17:32'!initializeConocidoComo: unNombre ofreciendoUnaResistenciaDel: unPorcentaje	nombre := unNombre. 	resistencia := unPorcentaje! !!MantoGeologico methodsFor: 'Printing' stamp: 'JuanVanecek 4/9/2017 22:07'!printOn: aStream	aStream nextPutAll: ('{1} (Resistencia {2}%)' format: { nombre . resistencia } )! !!MantoGeologico methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 21:52'!resistenciaTerreno	^ resistencia! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!MantoGeologico class	instanceVariableNames: ''!!MantoGeologico class methodsFor: 'Instance Creation' stamp: 'JuanVanecek 4/9/2017 17:31'!conocidoComo: unNombre ofreciendoUnaResistenciaDel: unPorcentaje	^ self new initializeConocidoComo: unNombre ofreciendoUnaResistenciaDel: unPorcentaje! !Object subclass: #ParcelaDeYacimiento	instanceVariableNames: 'presionInicial profundidadDeReservorio mantoGeologico'	classVariableNames: ''	poolDictionaries: ''	category: 'Tp1-Ing1-Modelo'!!ParcelaDeYacimiento methodsFor: 'Printing' stamp: 'JuanVanecek 4/9/2017 22:16'!printOn: aStream	aStream 		nextPutAll:			('Parcela de tipo {1} con reservorio a {2} mts y presion {3} PSIA' 				format: {mantoGeologico . profundidadDeReservorio . presionInicial})	! !!ParcelaDeYacimiento methodsFor: 'Initialize' stamp: 'JuanVanecek 4/5/2017 19:31'!initializeDeTipo: aMantoGeologico 	conPresionInicial: unaMedidaDePresion 	yProfunidadDeMetros: unaMedidaDeDistancia		mantoGeologico := aMantoGeologico.	presionInicial := unaMedidaDePresion.	profundidadDeReservorio := unaMedidaDeDistancia! !!ParcelaDeYacimiento methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 18:09'!distanciaAlReservorio	^ profundidadDeReservorio ! !!ParcelaDeYacimiento methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 21:51'!resistenciaTerreno	^ mantoGeologico resistenciaTerreno! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!ParcelaDeYacimiento class	instanceVariableNames: ''!!ParcelaDeYacimiento class methodsFor: 'Instance Creation' stamp: 'JuanVanecek 4/5/2017 19:30'!deTipo: unMantoGeologico  	conPresionInicial: unaMedidaDePresion 	yProfunidadDeMetros: unaMedidaDeDistancia		^self new 		initializeDeTipo: unMantoGeologico		conPresionInicial: unaMedidaDePresion 		yProfunidadDeMetros: unaMedidaDeDistancia ! !Object subclass: #PlanDeConstruccion	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'Tp1-Ing1-Modelo'!!PlanDeConstruccion methodsFor: 'Testing' stamp: 'JuanVanecek 4/9/2017 21:42'!estaTerminadoAl: aDate 	^ self fechaFinDeConstruccion < aDate! !!PlanDeConstruccion methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 18:12'!bienConstruidoOPorConstruir	self subclassResponsibility ! !!PlanDeConstruccion methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 18:33'!fechaDeInicioDeConstruccion			self subclassResponsibility ! !!PlanDeConstruccion methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 18:32'!recursosNecesarios	self subclassResponsibility ! !!PlanDeConstruccion methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 17:53'!fechaFinDeConstruccion	self subclassResponsibility ! !!PlanDeConstruccion methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 18:43'!recursosUtilizadosDurante: unaFecha	^ (unaFecha between: self fechaDeInicioDeConstruccion and: self fechaFinDeConstruccion)		ifTrue: [ self recursosNecesarios ]		ifFalse: [ #() ]! !!PlanDeConstruccion methodsFor: 'Printing' stamp: 'JuanVanecek 4/9/2017 22:17'!printOn: aStream	aStream 		nextPutAll: 			('Plan para construir {1} desde el {2}' 				format: {self bienConstruidoOPorConstruir . self fechaDeInicioDeConstruccion})! !PlanDeConstruccion subclass: #PlanDeConstruccionDePlanta	instanceVariableNames: 'plantaProcesadora fechaDeInicioDeConstruccion'	classVariableNames: ''	poolDictionaries: ''	category: 'Tp1-Ing1-Modelo'!!PlanDeConstruccionDePlanta methodsFor: 'Initialize' stamp: 'JuanVanecek 4/9/2017 12:15'!initializeDe: unaPlantaProcesadora empezandoEl: unaFecha	plantaProcesadora := unaPlantaProcesadora.	fechaDeInicioDeConstruccion := unaFecha! !!PlanDeConstruccionDePlanta methodsFor: 'Initialize' stamp: 'JuanVanecek 4/9/2017 18:33'!fechaDeInicioDeConstruccion	^ fechaDeInicioDeConstruccion! !!PlanDeConstruccionDePlanta methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 18:33'!recursosNecesarios	^ #()! !!PlanDeConstruccionDePlanta methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 17:53'!fechaFinDeConstruccion	^ fechaDeInicioDeConstruccion addDays: plantaProcesadora tiempoDeConstruccion! !!PlanDeConstruccionDePlanta methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 18:14'!bienConstruidoOPorConstruir		^ plantaProcesadora! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!PlanDeConstruccionDePlanta class	instanceVariableNames: ''!!PlanDeConstruccionDePlanta class methodsFor: 'Instance Creation' stamp: 'JuanVanecek 4/9/2017 17:52'!para: unaPlantaProcesadora empezandoEl: unaFecha	^ self new initializeDe: unaPlantaProcesadora empezandoEl: unaFecha! !PlanDeConstruccion subclass: #PlanDeConstruccionDePozo	instanceVariableNames: 'pozoDeExtraccion excavadora fechaDeInicioDeConstruccion'	classVariableNames: ''	poolDictionaries: ''	category: 'Tp1-Ing1-Modelo'!!PlanDeConstruccionDePozo methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 18:33'!fechaDeInicioDeConstruccion	^ fechaDeInicioDeConstruccion! !!PlanDeConstruccionDePozo methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 18:33'!recursosNecesarios			^ Array with: excavadora ! !!PlanDeConstruccionDePozo methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 21:52'!fechaFinDeConstruccion		" El ultimo dia sigue en construccion"		^fechaDeInicioDeConstruccion 		addDays: ((pozoDeExtraccion distanciaAlReservorio / excavadora profundidadPorDia) * (1 + pozoDeExtraccion resistenciaDeLaParcela)) ceiling ! !!PlanDeConstruccionDePozo methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 18:14'!bienConstruidoOPorConstruir		^ pozoDeExtraccion! !!PlanDeConstruccionDePozo methodsFor: 'Initialize' stamp: 'JuanVanecek 4/9/2017 17:49'!initializePara: unPozoDeExtraccion cavadoCon: unaExcavadoraRig arrancandoEl: unaFecha 	pozoDeExtraccion := unPozoDeExtraccion.	excavadora := unaExcavadoraRig. 	fechaDeInicioDeConstruccion := unaFecha.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!PlanDeConstruccionDePozo class	instanceVariableNames: ''!!PlanDeConstruccionDePozo class methodsFor: 'Instance Creation' stamp: 'JuanVanecek 4/9/2017 17:52'!para: unPozoDeExtraccion cavadoCon: unaExcavadoraRig empezandoEl: unaFecha	^ self new 		initializePara: unPozoDeExtraccion 		cavadoCon: unaExcavadoraRig 		arrancandoEl: unaFecha! !Object subclass: #PlantaProcesadora	instanceVariableNames: 'tiempoDeConstruccion costoDeConstruccion procesamientoDiario tanqueDeAlmacenamientos'	classVariableNames: ''	poolDictionaries: ''	category: 'Tp1-Ing1-Modelo'!!PlantaProcesadora methodsFor: 'Initialize' stamp: 'JuanVanecek 4/9/2017 11:11'!initializeConstruidaEnDias: unaCantidadDeDias 	conUnCostoTotalDe: unPrecio 	procesandoUnVolumenDiarioDe: unaCantidadDeVolumen		tiempoDeConstruccion := unaCantidadDeDias. 	costoDeConstruccion := unPrecio. 	procesamientoDiario := unaCantidadDeVolumen.	tanqueDeAlmacenamientos := OrderedCollection new.! !!PlantaProcesadora methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 11:12'!tanquesDeAlmacenamiento	^ tanqueDeAlmacenamientos ! !!PlantaProcesadora methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 12:19'!tiempoDeConstruccion		^ tiempoDeConstruccion ! !!PlantaProcesadora methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 11:11'!conectar: aTanqueDeAlmacenamiento	tanqueDeAlmacenamientos add: aTanqueDeAlmacenamiento! !!PlantaProcesadora methodsFor: 'Printing' stamp: 'JuanVanecek 4/9/2017 22:22'!printOn: aStream 	aStream nextPutAll: ('Planta Procesadora con procesamiento de {1} cm3/dia' format: {procesamientoDiario})! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!PlantaProcesadora class	instanceVariableNames: ''!!PlantaProcesadora class methodsFor: 'Instance Creation' stamp: 'JuanVanecek 4/9/2017 10:37'!construidaEnDias: unaCantidadDeDias 	conUnCostoTotalDe: unPrecio 	procesandoUnVolumenDiarioDe: unaCantidadDeVolumen		^ self new 		initializeConstruidaEnDias: unaCantidadDeDias 		conUnCostoTotalDe: unPrecio 		procesandoUnVolumenDiarioDe: unaCantidadDeVolumen! !Object subclass: #PozoDeExtraccion	instanceVariableNames: 'parcelaDeYacimiento plantaProcesadora'	classVariableNames: ''	poolDictionaries: ''	category: 'Tp1-Ing1-Modelo'!!PozoDeExtraccion methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 18:08'!distanciaAlReservorio	^ parcelaDeYacimiento distanciaAlReservorio! !!PozoDeExtraccion methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 21:51'!resistenciaDeLaParcela	^ parcelaDeYacimiento resistenciaTerreno! !!PozoDeExtraccion methodsFor: 'Initialize' stamp: 'JuanVanecek 4/9/2017 17:46'!initializeEn: unaParcelaDeYacimiento conectadaA: unaPlantaProcesadora 		parcelaDeYacimiento := unaParcelaDeYacimiento.	plantaProcesadora := unaPlantaProcesadora! !!PozoDeExtraccion methodsFor: 'Printing' stamp: 'JuanVanecek 4/9/2017 22:18'!printOn: aStream	aStream nextPutAll: ('Pozo de extraccion en {1}' format: { parcelaDeYacimiento })! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!PozoDeExtraccion class	instanceVariableNames: ''!!PozoDeExtraccion class methodsFor: 'Instance Creation' stamp: 'JuanVanecek 4/9/2017 17:46'!en: unaParcelaDeYacimiento conectadaA: unaPlantaProcesadora 	^ self new initializeEn: unaParcelaDeYacimiento conectadaA: unaPlantaProcesadora! !Object subclass: #SistemaDeGestionDePozos	instanceVariableNames: 'planesDeConstruccion'	classVariableNames: ''	poolDictionaries: ''	category: 'Tp1-Ing1-Modelo'!!SistemaDeGestionDePozos methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 22:20'!construirUnPozoEn: unaParcelaDeYacimiento conectadaA: unaPlantaProcesadora con: unaExcavadoraRig arrancandoEl: unaFecha 	| pozo | 		pozo := PozoDeExtraccion en: unaParcelaDeYacimiento conectadaA: unaPlantaProcesadora.		planesDeConstruccion add: (		PlanDeConstruccionDePozo 			para: pozo 			cavadoCon: unaExcavadoraRig 			empezandoEl: unaFecha).	^ pozo! !!SistemaDeGestionDePozos methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 18:12'!pozosConstruidosAl: unaFecha 	^ self 		filrarBienesConstruidosPorTipo: PlanDeConstruccionDePozo  		terminadosLuegoDe: unaFecha! !!SistemaDeGestionDePozos methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 18:14'!plantasProcesadorasConstruidasAl: unaFecha 		^ self 		filrarBienesConstruidosPorTipo: PlanDeConstruccionDePlanta 		terminadosLuegoDe: unaFecha! !!SistemaDeGestionDePozos methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 22:23'!construirUnaPlantaProcesadora: unaPlantaProcesadora arrancandoEl: unaFecha 	planesDeConstruccion add: (		PlanDeConstruccionDePlanta			para: unaPlantaProcesadora			empezandoEl: unaFecha)! !!SistemaDeGestionDePozos methodsFor: 'Testing' stamp: 'JuanVanecek 4/9/2017 18:50'!estaDisponible: unaExcavadoraRig el: unaFecha 	^ planesDeConstruccion allSatisfy: [:plan | ((plan recursosUtilizadosDurante: unaFecha) includes: unaExcavadoraRig) not ]! !!SistemaDeGestionDePozos methodsFor: 'Initialize' stamp: 'JuanVanecek 4/9/2017 12:16'!initialize	super initialize. 		planesDeConstruccion := OrderedCollection new.! !!SistemaDeGestionDePozos methodsFor: 'Accessing-Private' stamp: 'JuanVanecek 4/9/2017 18:18'!filrarBienesConstruidosPorTipo: tipoDePlanDeConstruccionDePlanta	terminadosLuegoDe: unaFecha		^ (planesDeConstruccion select: [:plan | (plan isKindOf: tipoDePlanDeConstruccionDePlanta) and: [plan estaTerminadoAl: unaFecha]]) 		collect: [:plan | plan bienConstruidoOPorConstruir] 		! !Object subclass: #TanqueDeAlmacenamiento	instanceVariableNames: 'plantaProcesadora capacidadTotal tiempoDeConstruccion costoDeConstruccion'	classVariableNames: ''	poolDictionaries: ''	category: 'Tp1-Ing1-Modelo'!!TanqueDeAlmacenamiento methodsFor: 'Initialize' stamp: 'JuanVanecek 4/9/2017 11:27'!initializeConstruidaEnDias: unaCantidadDeDias	conUnCostoTotalDe: unPrecio	conectadoA: unaPlantaProcesadora 	conCapacidadDe: unaCantidadDeVolumen 		tiempoDeConstruccion := unaCantidadDeDias.	costoDeConstruccion := unPrecio.	plantaProcesadora := unaPlantaProcesadora		conectar: self;		yourself.	capacidadTotal := unaCantidadDeVolumen.		! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!TanqueDeAlmacenamiento class	instanceVariableNames: ''!!TanqueDeAlmacenamiento class methodsFor: 'Instance Creation' stamp: 'JuanVanecek 4/9/2017 11:27'!construidaEnDias: unaCantidadDeDias	conUnCostoTotalDe: unPrecio	conectadoA: unaPlantaProcesadora 	conCapacidadDe: unaCantidadDeVolumen 		^ self new 		initializeConstruidaEnDias: unaCantidadDeDias		conUnCostoTotalDe: unPrecio		conectadoA: unaPlantaProcesadora 		conCapacidadDe: unaCantidadDeVolumen ! !TanqueDeAlmacenamiento subclass: #TanqueDeAlmacenamientoDeAgua	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'Tp1-Ing1-Modelo'!TanqueDeAlmacenamiento subclass: #TanqueDeAlmacenamientoDeGas	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'Tp1-Ing1-Modelo'!Object subclass: #Yacimiento	instanceVariableNames: 'tamanio porcentajeDeAgua porcentajeDeGas porcentajeDePetroleo parcelasLibres'	classVariableNames: ''	poolDictionaries: ''	category: 'Tp1-Ing1-Modelo'!!Yacimiento methodsFor: 'Accessing' stamp: 'JuanVanecek 4/5/2017 19:37'!parcelaLibreDeTipo: unMantoGeologico	presionInicial: unCantidadDePresion 	yDistanciaAlReservorio: unaDistanciaEnMetros	^parcelasLibres > 0 		ifTrue: [ 			parcelasLibres := parcelasLibres - 1.			ParcelaDeYacimiento 				deTipo: unMantoGeologico				conPresionInicial: unCantidadDePresion 				yProfunidadDeMetros: unaDistanciaEnMetros		 ]		ifFalse: [ AssertionFailure signal: 'No hay más parcelas disponibles para este yacimiento' ]! !!Yacimiento methodsFor: 'Initialize' stamp: 'JuanVanecek 4/5/2017 19:19'!initializeDeTamanioEnHectareas: unasHectareas	compuestoPorAguaEn: unPorcentajeDeAgua	porGasEn: unPorcentajeDeGas	yEnPetroleo: unPorcentajeDePetroleo		tamanio := unasHectareas.	parcelasLibres := unasHectareas.	porcentajeDeAgua := unPorcentajeDeAgua.	porcentajeDeGas := unPorcentajeDeGas.	porcentajeDePetroleo := unPorcentajeDePetroleo! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Yacimiento class	instanceVariableNames: ''!!Yacimiento class methodsFor: 'as yet unclassified ' stamp: 'JuanVanecek 4/5/2017 18:48'!deTamanioEnHectareas: unasHectareas	compuestoPorAguaEn: unPorcentajeDeAgua	porGasEn: unPorcentajeDeGas	yEnPetroleo: unPorcentajeDePetroleo		self assertSumanCien: 		(Array with: unPorcentajeDeAgua with: unPorcentajeDeGas with: unPorcentajeDePetroleo).		^self new		initializeDeTamanioEnHectareas: unasHectareas		compuestoPorAguaEn: unPorcentajeDeAgua		porGasEn: unPorcentajeDeGas		yEnPetroleo: unPorcentajeDePetroleo! !!Yacimiento class methodsFor: 'Asserting' stamp: 'JuanVanecek 4/9/2017 22:25'!assertSumanCien: aNumberCollection 	(self sumOfAll: aNumberCollection startingWith: 0) = 100 		ifFalse: [AssertionFailure signal: 'Los compuestos tienen que sumar el 100% del reservorio'].! !!Yacimiento class methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 22:25'!sumOfAll: aCollection startingWith: aSeed 	^ aCollection 		inject: aSeed		into: [:accumulatedValue :addend | accumulatedValue + addend]! !