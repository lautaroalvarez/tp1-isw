Object subclass: #CalculadoraDefaultDePresiones	instanceVariableNames: 'alpha1 alpha2'	classVariableNames: ''	poolDictionaries: ''	category: 'Tp1-Ing1-Modelo'!!CalculadoraDefaultDePresiones methodsFor: 'Accessing-Private' stamp: 'JuanVanecek 5/1/2017 17:42'!cantidadDePozosHabilitadosEn: unSistemaDeGestionDePozos al: unaFecha	" Pongo max: 1 porque no se que hacer cuando al dia anterior no se extrajo nada - juan"	^ (unSistemaDeGestionDePozos cantidadDePozosHabilitadosAl: unaFecha) max: 1! !!CalculadoraDefaultDePresiones methodsFor: 'Accessing' stamp: 'JuanVanecek 5/1/2017 17:41'!presionDe: unPozoDeExtraccion al: unaFecha usando: unSistemaDeGestionDePozos 		" Se puede extraer recien el primer dia despues de construido, y ese dia aun tiene como presion a la inicial - juan"	^ unaFecha <= ((unSistemaDeGestionDePozos fechaDeFinConstruccionDe: unPozoDeExtraccion) addDays: 1)		ifTrue: [ unPozoDeExtraccion presionInicial ] 		ifFalse: [ | fechaAnterior presionAlDiaAnterior cocienteVolumen pozosHabilitados beta | 			fechaAnterior := unaFecha previous. 			presionAlDiaAnterior := unSistemaDeGestionDePozos presionDe: unPozoDeExtraccion al: fechaAnterior.				cocienteVolumen := 				(unSistemaDeGestionDePozos volumenReservorioDe: unPozoDeExtraccion al: fechaAnterior) / 				(unSistemaDeGestionDePozos volumenInicialDelReservorioDe: unPozoDeExtraccion).					beta := 0.1 * cocienteVolumen / (self cantidadDePozosHabilitadosEn: unSistemaDeGestionDePozos al: fechaAnterior).					presionAlDiaAnterior / (Float e ** beta)]! !!CalculadoraDefaultDePresiones methodsFor: 'Accessing' stamp: 'JuanVanecek 5/1/2017 17:44'!potencialDiarioDe: unPozoDeExtraccion al: unaFecha usando: unSistemaDeGestionDePozos		| presionPonderada | 		presionPonderada := 		(unSistemaDeGestionDePozos presionDe: unPozoDeExtraccion al: unaFecha) / 		(self cantidadDePozosHabilitadosEn: unSistemaDeGestionDePozos al: unaFecha).		^ alpha1 * presionPonderada + (alpha2 * (presionPonderada ** 2))! !!CalculadoraDefaultDePresiones methodsFor: 'Initialize' stamp: 'JuanVanecek 5/1/2017 13:51'!initializeUsandoComoAlpha1: aNumber comoAlpha2: anotherNumber 		alpha1 := aNumber. 	alpha2 := anotherNumber! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!CalculadoraDefaultDePresiones class	instanceVariableNames: ''!!CalculadoraDefaultDePresiones class methodsFor: 'Asserting' stamp: 'JuanVanecek 5/1/2017 13:50'!assert: aNumber between: aLowerBound and: anUpperBound		(aNumber between: aLowerBound and: anUpperBound)		ifFalse: [ 			Exception signal: ('El valor debe estar entre {1} y {2}' format: { aLowerBound . anUpperBound } )]! !!CalculadoraDefaultDePresiones class methodsFor: 'Instance Creation' stamp: 'JuanVanecek 5/1/2017 13:49'!usandoComoAlpha1: alpha1 comoAlpha2: alpha2		self 		assert: alpha1 between: 0.1 and: 0.6;		assert: alpha2 between: 0.005 and: 0.01.			^ self new initializeUsandoComoAlpha1: alpha1 comoAlpha2: alpha2! !Object subclass: #CatalogoDeExcavadorasRig	instanceVariableNames: 'catalogo'	classVariableNames: ''	poolDictionaries: ''	category: 'Tp1-Ing1-Modelo'!!CatalogoDeExcavadorasRig methodsFor: 'Accessing' stamp: 'JuanVanecek 4/8/2017 13:22'!registrar: unaExcavadoraRig aUnCostoPorDia: unPrecio porUnMinimoDeDias: unaCantidadDeDias	catalogo at: unaExcavadoraRig put: ((Array new: 2)		at: self indicePrecio put: unPrecio;		at: self indiceAlquilerMinimo put: unaCantidadDeDias;		yourself	)! !!CatalogoDeExcavadorasRig methodsFor: 'Accessing' stamp: 'JuanVanecek 4/8/2017 13:27'!conLosRegistrosHacer: aBlockClosure 	catalogo keysAndValuesDo: [:excavadora :datosAlquiler | 		aBlockClosure 			value: excavadora 			value: (datosAlquiler at: self indicePrecio)			value: (datosAlquiler at: self indiceAlquilerMinimo)		 ]! !!CatalogoDeExcavadorasRig methodsFor: 'Accessing' stamp: 'JuanVanecek 4/8/2017 13:24'!excavadorasDisponibles	^ catalogo keys! !!CatalogoDeExcavadorasRig methodsFor: 'Accessing-Private' stamp: 'JuanVanecek 4/8/2017 13:24'!indiceAlquilerMinimo	^ 2! !!CatalogoDeExcavadorasRig methodsFor: 'Accessing-Private' stamp: 'JuanVanecek 4/8/2017 13:23'!indicePrecio	^ 1! !!CatalogoDeExcavadorasRig methodsFor: 'Initialize' stamp: 'JuanVanecek 4/8/2017 13:23'!initialize	super initialize. 		catalogo := Dictionary new.! !Exception subclass: #ConstruccionIncompleta	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'Tp1-Ing1-Modelo'!Object subclass: #EventoDeExtraccion	instanceVariableNames: 'pozo fechaDeExtraccion'	classVariableNames: ''	poolDictionaries: ''	category: 'Tp1-Ing1-Modelo'!!EventoDeExtraccion methodsFor: 'Accessing' stamp: 'JuanVanecek 5/1/2017 15:06'!fechaDeExtraccion		^ fechaDeExtraccion! !!EventoDeExtraccion methodsFor: 'Accessing' stamp: 'JuanVanecek 5/1/2017 15:07'!pozo		^ pozo! !!EventoDeExtraccion methodsFor: 'Instance Creation' stamp: 'JuanVanecek 5/1/2017 14:21'!initializeEn: unPozoDeExtraccion al: unFecha	pozo := unPozoDeExtraccion. 	fechaDeExtraccion := unFecha! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!EventoDeExtraccion class	instanceVariableNames: ''!!EventoDeExtraccion class methodsFor: 'Instance Creation' stamp: 'JuanVanecek 5/1/2017 14:16'!en: unPozoDeExtraccion al: unFecha		^ self new initializeEn: unPozoDeExtraccion al: unFecha! !Object subclass: #ExcavadoraRig	instanceVariableNames: 'profundidadPorDia consumoPorDia'	classVariableNames: ''	poolDictionaries: ''	category: 'Tp1-Ing1-Modelo'!!ExcavadoraRig methodsFor: 'Printing' stamp: 'JuanVanecek 4/9/2017 22:09'!printOn: aStream	aStream 		nextPutAll: 			('Excavadora que procesa {1} mts/dia consumiendo {2} lts/dia' 				format: { profundidadPorDia . consumoPorDia  })! !!ExcavadoraRig methodsFor: 'Initialize' stamp: 'JuanVanecek 4/8/2017 13:20'!initializePerforandoEnMetrosEnUnDia: unaMedidaEnMetros consumiendoEnLitros: unaMedidaEnLitros	profundidadPorDia := unaMedidaEnMetros.	consumoPorDia := unaMedidaEnLitros.! !!ExcavadoraRig methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 18:09'!profundidadPorDia	^ profundidadPorDia! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!ExcavadoraRig class	instanceVariableNames: ''!!ExcavadoraRig class methodsFor: 'Instance Creation' stamp: 'JuanVanecek 4/8/2017 13:19'!perforandoEnMetrosEnUnDia: unaMedidaEnMetros consumiendoEnLitros: unaMedidaEnLitros	^ self new 		initializePerforandoEnMetrosEnUnDia: unaMedidaEnMetros		consumiendoEnLitros: unaMedidaEnLitros! !Object subclass: #MantoGeologico	instanceVariableNames: 'nombre resistencia'	classVariableNames: ''	poolDictionaries: ''	category: 'Tp1-Ing1-Modelo'!!MantoGeologico methodsFor: 'Initialize' stamp: 'JuanVanecek 4/9/2017 17:32'!initializeConocidoComo: unNombre ofreciendoUnaResistenciaDel: unPorcentaje	nombre := unNombre. 	resistencia := unPorcentaje! !!MantoGeologico methodsFor: 'Printing' stamp: 'JuanVanecek 4/9/2017 22:07'!printOn: aStream	aStream nextPutAll: ('{1} (Resistencia {2}%)' format: { nombre . resistencia } )! !!MantoGeologico methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 21:52'!resistenciaTerreno	^ resistencia! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!MantoGeologico class	instanceVariableNames: ''!!MantoGeologico class methodsFor: 'Instance Creation' stamp: 'JuanVanecek 4/9/2017 17:31'!conocidoComo: unNombre ofreciendoUnaResistenciaDel: unPorcentaje	^ self new initializeConocidoComo: unNombre ofreciendoUnaResistenciaDel: unPorcentaje! !Object subclass: #ParcelaDeYacimiento	instanceVariableNames: 'presionInicial profundidadDeReservorio mantoGeologico yacimiento'	classVariableNames: ''	poolDictionaries: ''	category: 'Tp1-Ing1-Modelo'!!ParcelaDeYacimiento methodsFor: 'Printing' stamp: 'JuanVanecek 4/9/2017 22:16'!printOn: aStream	aStream 		nextPutAll:			('Parcela de tipo {1} con reservorio a {2} mts y presion {3} PSIA' 				format: {mantoGeologico . profundidadDeReservorio . presionInicial})	! !!ParcelaDeYacimiento methodsFor: 'Initialize' stamp: 'JuanVanecek 4/5/2017 19:31'!initializeDeTipo: aMantoGeologico 	conPresionInicial: unaMedidaDePresion 	yProfunidadDeMetros: unaMedidaDeDistancia		mantoGeologico := aMantoGeologico.	presionInicial := unaMedidaDePresion.	profundidadDeReservorio := unaMedidaDeDistancia! !!ParcelaDeYacimiento methodsFor: 'Initialize' stamp: 'JuanVanecek 5/1/2017 16:49'!initializeDeTipo: aMantoGeologico 	conPresionInicial: unaMedidaDePresion 	profunidadEnMetros: unaMedidaDeDistancia	alReservorioEn: unYacimiento		mantoGeologico := aMantoGeologico.	presionInicial := unaMedidaDePresion.	profundidadDeReservorio := unaMedidaDeDistancia.	yacimiento := unYacimiento ! !!ParcelaDeYacimiento methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 18:09'!distanciaAlReservorio	^ profundidadDeReservorio ! !!ParcelaDeYacimiento methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 21:51'!resistenciaTerreno	^ mantoGeologico resistenciaTerreno! !!ParcelaDeYacimiento methodsFor: 'Accessing' stamp: 'JuanVanecek 5/1/2017 16:47'!yacimiento	^ yacimiento! !!ParcelaDeYacimiento methodsFor: 'Accessing' stamp: 'JuanVanecek 5/1/2017 13:54'!presionInicial		^ presionInicial! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!ParcelaDeYacimiento class	instanceVariableNames: ''!!ParcelaDeYacimiento class methodsFor: 'Instance Creation' stamp: 'JuanVanecek 5/1/2017 16:49'!deTipo: unMantoGeologico  	conPresionInicial: unaMedidaDePresion 	profunidadEnMetros: unaMedidaDeDistancia	alReservorioEn: unYacimiento		^self new 		initializeDeTipo: unMantoGeologico		conPresionInicial: unaMedidaDePresion 		profunidadEnMetros: unaMedidaDeDistancia		alReservorioEn: unYacimiento! !Object subclass: #PlanDeConstruccion	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'Tp1-Ing1-Modelo'!!PlanDeConstruccion methodsFor: 'Testing' stamp: 'JuanVanecek 4/9/2017 21:42'!estaTerminadoAl: aDate 	^ self fechaFinDeConstruccion < aDate! !!PlanDeConstruccion methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 18:12'!bienConstruidoOPorConstruir	self subclassResponsibility ! !!PlanDeConstruccion methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 18:33'!fechaDeInicioDeConstruccion			self subclassResponsibility ! !!PlanDeConstruccion methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 18:32'!recursosNecesarios	self subclassResponsibility ! !!PlanDeConstruccion methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 17:53'!fechaFinDeConstruccion	self subclassResponsibility ! !!PlanDeConstruccion methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 18:43'!recursosUtilizadosDurante: unaFecha	^ (unaFecha between: self fechaDeInicioDeConstruccion and: self fechaFinDeConstruccion)		ifTrue: [ self recursosNecesarios ]		ifFalse: [ #() ]! !!PlanDeConstruccion methodsFor: 'Printing' stamp: 'JuanVanecek 4/9/2017 22:17'!printOn: aStream	aStream 		nextPutAll: 			('Plan para construir {1} desde el {2}' 				format: {self bienConstruidoOPorConstruir . self fechaDeInicioDeConstruccion})! !PlanDeConstruccion subclass: #PlanDeConstruccionDePlanta	instanceVariableNames: 'plantaProcesadora fechaDeInicioDeConstruccion'	classVariableNames: ''	poolDictionaries: ''	category: 'Tp1-Ing1-Modelo'!!PlanDeConstruccionDePlanta methodsFor: 'Initialize' stamp: 'JuanVanecek 4/9/2017 12:15'!initializeDe: unaPlantaProcesadora empezandoEl: unaFecha	plantaProcesadora := unaPlantaProcesadora.	fechaDeInicioDeConstruccion := unaFecha! !!PlanDeConstruccionDePlanta methodsFor: 'Initialize' stamp: 'JuanVanecek 4/9/2017 18:33'!fechaDeInicioDeConstruccion	^ fechaDeInicioDeConstruccion! !!PlanDeConstruccionDePlanta methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 18:33'!recursosNecesarios	^ #()! !!PlanDeConstruccionDePlanta methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 17:53'!fechaFinDeConstruccion	^ fechaDeInicioDeConstruccion addDays: plantaProcesadora tiempoDeConstruccion! !!PlanDeConstruccionDePlanta methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 18:14'!bienConstruidoOPorConstruir		^ plantaProcesadora! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!PlanDeConstruccionDePlanta class	instanceVariableNames: ''!!PlanDeConstruccionDePlanta class methodsFor: 'Instance Creation' stamp: 'JuanVanecek 4/9/2017 17:52'!para: unaPlantaProcesadora empezandoEl: unaFecha	^ self new initializeDe: unaPlantaProcesadora empezandoEl: unaFecha! !PlanDeConstruccion subclass: #PlanDeConstruccionDePozo	instanceVariableNames: 'pozoDeExtraccion excavadora fechaDeInicioDeConstruccion'	classVariableNames: ''	poolDictionaries: ''	category: 'Tp1-Ing1-Modelo'!!PlanDeConstruccionDePozo methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 18:33'!fechaDeInicioDeConstruccion	^ fechaDeInicioDeConstruccion! !!PlanDeConstruccionDePozo methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 18:33'!recursosNecesarios			^ Array with: excavadora ! !!PlanDeConstruccionDePozo methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 21:52'!fechaFinDeConstruccion		" El ultimo dia sigue en construccion"		^fechaDeInicioDeConstruccion 		addDays: ((pozoDeExtraccion distanciaAlReservorio / excavadora profundidadPorDia) * (1 + pozoDeExtraccion resistenciaDeLaParcela)) ceiling ! !!PlanDeConstruccionDePozo methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 18:14'!bienConstruidoOPorConstruir		^ pozoDeExtraccion! !!PlanDeConstruccionDePozo methodsFor: 'Initialize' stamp: 'JuanVanecek 4/9/2017 17:49'!initializePara: unPozoDeExtraccion cavadoCon: unaExcavadoraRig arrancandoEl: unaFecha 	pozoDeExtraccion := unPozoDeExtraccion.	excavadora := unaExcavadoraRig. 	fechaDeInicioDeConstruccion := unaFecha.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!PlanDeConstruccionDePozo class	instanceVariableNames: ''!!PlanDeConstruccionDePozo class methodsFor: 'Instance Creation' stamp: 'JuanVanecek 4/9/2017 17:52'!para: unPozoDeExtraccion cavadoCon: unaExcavadoraRig empezandoEl: unaFecha	^ self new 		initializePara: unPozoDeExtraccion 		cavadoCon: unaExcavadoraRig 		arrancandoEl: unaFecha! !PlanDeConstruccion subclass: #PlanDeConstruccionDeTanqueDeAgua	instanceVariableNames: 'tanqueDeAgua fechaDeInicioDeConstruccion'	classVariableNames: ''	poolDictionaries: ''	category: 'Tp1-Ing1-Modelo'!!PlanDeConstruccionDeTanqueDeAgua methodsFor: 'Initialize' stamp: 'JuanVanecek 5/1/2017 11:00'!initializeDe: unTanqueDeAlmacenamientoDeAgua empezandoEl: unaFecha	tanqueDeAgua := unTanqueDeAlmacenamientoDeAgua. 	fechaDeInicioDeConstruccion := unaFecha! !!PlanDeConstruccionDeTanqueDeAgua methodsFor: 'Accessing' stamp: 'JuanVanecek 5/1/2017 11:10'!fechaDeInicioDeConstruccion		^ fechaDeInicioDeConstruccion! !!PlanDeConstruccionDeTanqueDeAgua methodsFor: 'Accessing' stamp: 'JuanVanecek 5/1/2017 11:12'!fechaFinDeConstruccion	^ fechaDeInicioDeConstruccion addDays: (tanqueDeAgua tiempoDeConstruccion - 1)! !!PlanDeConstruccionDeTanqueDeAgua methodsFor: 'Accessing' stamp: 'JuanVanecek 5/1/2017 11:14'!recursosNecesarios			^ Array new! !!PlanDeConstruccionDeTanqueDeAgua methodsFor: 'Accessing' stamp: 'JuanVanecek 5/1/2017 11:04'!bienConstruidoOPorConstruir	^ tanqueDeAgua ! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!PlanDeConstruccionDeTanqueDeAgua class	instanceVariableNames: ''!!PlanDeConstruccionDeTanqueDeAgua class methodsFor: 'Instance Creation' stamp: 'JuanVanecek 5/1/2017 10:59'!para: aTanqueDeAlmacenamientoDeAgua empezandoEl: unaFecha 	^ self new initializeDe: aTanqueDeAlmacenamientoDeAgua empezandoEl: unaFecha! !PlanDeConstruccion subclass: #PlanDeConstruccionDeTanqueDeGas	instanceVariableNames: 'tanqueDeGas fechaDeInicioDeConstruccion'	classVariableNames: ''	poolDictionaries: ''	category: 'Tp1-Ing1-Modelo'!!PlanDeConstruccionDeTanqueDeGas methodsFor: 'Initialize' stamp: 'JuanVanecek 5/1/2017 11:22'!initializeDe: unTanqueDeGas empezandoEl: unaFecha	tanqueDeGas := unTanqueDeGas. 	fechaDeInicioDeConstruccion := unaFecha! !!PlanDeConstruccionDeTanqueDeGas methodsFor: 'Accessing' stamp: 'JuanVanecek 5/1/2017 11:23'!bienConstruidoOPorConstruir	^ tanqueDeGas ! !!PlanDeConstruccionDeTanqueDeGas methodsFor: 'Accessing' stamp: 'JuanVanecek 5/1/2017 11:22'!fechaFinDeConstruccion	^ fechaDeInicioDeConstruccion addDays: (tanqueDeGas tiempoDeConstruccion - 1)! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!PlanDeConstruccionDeTanqueDeGas class	instanceVariableNames: ''!!PlanDeConstruccionDeTanqueDeGas class methodsFor: 'Instance Creation' stamp: 'JuanVanecek 5/1/2017 11:20'!para: unTanqueDeGas empezandoEl: unaFecha	^ self new initializeDe: unTanqueDeGas empezandoEl: unaFecha! !Object subclass: #PlantaProcesadora	instanceVariableNames: 'tiempoDeConstruccion costoDeConstruccion procesamientoDiario tanqueDeAlmacenamientos'	classVariableNames: ''	poolDictionaries: ''	category: 'Tp1-Ing1-Modelo'!!PlantaProcesadora methodsFor: 'Initialize' stamp: 'JuanVanecek 4/9/2017 11:11'!initializeConstruidaEnDias: unaCantidadDeDias 	conUnCostoTotalDe: unPrecio 	procesandoUnVolumenDiarioDe: unaCantidadDeVolumen		tiempoDeConstruccion := unaCantidadDeDias. 	costoDeConstruccion := unPrecio. 	procesamientoDiario := unaCantidadDeVolumen.	tanqueDeAlmacenamientos := OrderedCollection new.! !!PlantaProcesadora methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 11:12'!tanquesDeAlmacenamiento	^ tanqueDeAlmacenamientos ! !!PlantaProcesadora methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 12:19'!tiempoDeConstruccion		^ tiempoDeConstruccion ! !!PlantaProcesadora methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 11:11'!conectar: aTanqueDeAlmacenamiento	tanqueDeAlmacenamientos add: aTanqueDeAlmacenamiento! !!PlantaProcesadora methodsFor: 'Printing' stamp: 'JuanVanecek 4/9/2017 22:22'!printOn: aStream 	aStream nextPutAll: ('Planta Procesadora con procesamiento de {1} cm3/dia' format: {procesamientoDiario})! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!PlantaProcesadora class	instanceVariableNames: ''!!PlantaProcesadora class methodsFor: 'Instance Creation' stamp: 'JuanVanecek 4/9/2017 10:37'!construidaEnDias: unaCantidadDeDias 	conUnCostoTotalDe: unPrecio 	procesandoUnVolumenDiarioDe: unaCantidadDeVolumen		^ self new 		initializeConstruidaEnDias: unaCantidadDeDias 		conUnCostoTotalDe: unPrecio 		procesandoUnVolumenDiarioDe: unaCantidadDeVolumen! !Object subclass: #PozoDeExtraccion	instanceVariableNames: 'parcelaDeYacimiento plantaProcesadora'	classVariableNames: ''	poolDictionaries: ''	category: 'Tp1-Ing1-Modelo'!!PozoDeExtraccion methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 18:08'!distanciaAlReservorio	^ parcelaDeYacimiento distanciaAlReservorio! !!PozoDeExtraccion methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 21:51'!resistenciaDeLaParcela	^ parcelaDeYacimiento resistenciaTerreno! !!PozoDeExtraccion methodsFor: 'Accessing' stamp: 'JuanVanecek 5/1/2017 16:47'!yacimiento		^ parcelaDeYacimiento yacimiento! !!PozoDeExtraccion methodsFor: 'Accessing' stamp: 'JuanVanecek 5/1/2017 13:54'!presionInicial		^ parcelaDeYacimiento presionInicial! !!PozoDeExtraccion methodsFor: 'Initialize' stamp: 'JuanVanecek 4/9/2017 17:46'!initializeEn: unaParcelaDeYacimiento conectadaA: unaPlantaProcesadora 		parcelaDeYacimiento := unaParcelaDeYacimiento.	plantaProcesadora := unaPlantaProcesadora! !!PozoDeExtraccion methodsFor: 'Printing' stamp: 'JuanVanecek 4/9/2017 22:18'!printOn: aStream	aStream nextPutAll: ('Pozo de extraccion en {1}' format: { parcelaDeYacimiento })! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!PozoDeExtraccion class	instanceVariableNames: ''!!PozoDeExtraccion class methodsFor: 'Instance Creation' stamp: 'JuanVanecek 4/9/2017 17:46'!en: unaParcelaDeYacimiento conectadaA: unaPlantaProcesadora 	^ self new initializeEn: unaParcelaDeYacimiento conectadaA: unaPlantaProcesadora! !Object subclass: #SistemaDeGestionDePozos	instanceVariableNames: 'planesDeConstruccion calculadoraDePresion eventosSobrePozos'	classVariableNames: ''	poolDictionaries: ''	category: 'Tp1-Ing1-Modelo'!!SistemaDeGestionDePozos methodsFor: 'Accessing-Medicion en Pozo' stamp: 'JuanVanecek 5/1/2017 16:56'!volumenReservorioDe: unPozoDeExtraccion al: unaFecha		| yacimiento | 		yacimiento := unPozoDeExtraccion yacimiento.	^ yacimiento volumenDeProductoInicial - (self volumenExtraidoDe: yacimiento antesDe: unaFecha)! !!SistemaDeGestionDePozos methodsFor: 'Accessing-Medicion en Pozo' stamp: 'JuanVanecek 5/1/2017 14:36'!presionDe: unPozoDeExtraccion al: unaFecha	^ calculadoraDePresion presionDe: unPozoDeExtraccion al: unaFecha usando: self! !!SistemaDeGestionDePozos methodsFor: 'Accessing-Medicion en Pozo' stamp: 'JuanVanecek 5/1/2017 14:28'!potencialDiarioDe: unPozoDeExtraccion al: unaFecha	^ calculadoraDePresion potencialDiarioDe: unPozoDeExtraccion al: unaFecha usando: self! !!SistemaDeGestionDePozos methodsFor: 'Accessing-Extraccion/Inyeccion' stamp: 'JuanVanecek 5/1/2017 17:37'!extraerProductoDe: unPozoDeExtraccion durante: unaFecha 		self assert: unPozoDeExtraccion estaConstruidoAl: unaFecha.		eventosSobrePozos add: (EventoDeExtraccion en: unPozoDeExtraccion al: unaFecha)! !!SistemaDeGestionDePozos methodsFor: 'Accessing-Extraccion/Inyeccion' stamp: 'JuanVanecek 5/1/2017 15:08'!cantidadDePozosHabilitadosAl: unaFecha 	^ (eventosSobrePozos select: [:evento | evento fechaDeExtraccion = unaFecha ]) size! !!SistemaDeGestionDePozos methodsFor: 'Testing' stamp: 'JuanVanecek 4/9/2017 18:50'!estaDisponible: unaExcavadoraRig el: unaFecha 	^ planesDeConstruccion allSatisfy: [:plan | ((plan recursosUtilizadosDurante: unaFecha) includes: unaExcavadoraRig) not ]! !!SistemaDeGestionDePozos methodsFor: 'Accessing-Private' stamp: 'JuanVanecek 5/1/2017 13:26'!assert: unPozoDeExtraccion estaConstruidoAl: unaFecha 		(self estaConstruido: unPozoDeExtraccion al: unaFecha)		ifFalse: [ 			ConstruccionIncompleta signal: ('No se puede extraer producto de {1} porque al {2} no esta terminado aun' format: { unPozoDeExtraccion . unaFecha })			 ]! !!SistemaDeGestionDePozos methodsFor: 'Accessing-Private' stamp: 'JuanVanecek 5/1/2017 13:28'!filrarBienesDeTipo: tipoDeBien construidosLuegoDe: unaFecha	^ (planesDeConstruccion		select: [ :plan | 			(plan bienConstruidoOPorConstruir isKindOf: tipoDeBien) and: [ plan estaTerminadoAl: unaFecha ] ])		collect: [ :plan | plan bienConstruidoOPorConstruir ]! !!SistemaDeGestionDePozos methodsFor: 'Accessing-Private' stamp: 'JuanVanecek 5/1/2017 13:30'!estaConstruido: unBien al: unaFecha	^ (self filrarBienesDeTipo: unBien class construidosLuegoDe: unaFecha) includes: unBien! !!SistemaDeGestionDePozos methodsFor: 'Accessing-Bienes Construidos' stamp: 'JuanVanecek 5/1/2017 13:31'!plantasProcesadorasConstruidasAl: unaFecha 		^ self filrarBienesDeTipo: PlantaProcesadora construidosLuegoDe: unaFecha! !!SistemaDeGestionDePozos methodsFor: 'Accessing-Bienes Construidos' stamp: 'JuanVanecek 5/1/2017 13:31'!pozosConstruidosAl: unaFecha 	^ self filrarBienesDeTipo: PozoDeExtraccion construidosLuegoDe: unaFecha! !!SistemaDeGestionDePozos methodsFor: 'Accessing-Bienes Construidos' stamp: 'JuanVanecek 5/1/2017 13:32'!tanquesDeAguaConstruidosAl: unaFecha	^ self filrarBienesDeTipo: TanqueDeAgua construidosLuegoDe: unaFecha 	! !!SistemaDeGestionDePozos methodsFor: 'Accessing-Bienes Construidos' stamp: 'JuanVanecek 5/1/2017 13:32'!tanquesDeGasConstruidosAl: unaFecha	^ self filrarBienesDeTipo: TanqueDeGas construidosLuegoDe: unaFecha! !!SistemaDeGestionDePozos methodsFor: 'Accessing' stamp: 'JuanVanecek 5/1/2017 16:57'!volumenExtraidoDe: unYacimiento antesDe: unaFecha 	| extraccionesEnYacimiento | 		extraccionesEnYacimiento := eventosSobrePozos select: [:evento | 		evento fechaDeExtraccion < unaFecha and: [evento pozo yacimiento = unYacimiento]].		^ extraccionesEnYacimiento		inject: 0 		into: [:total :extraccion | total + (self potencialDiarioDe: extraccion pozo al: unaFecha)]! !!SistemaDeGestionDePozos methodsFor: 'Accessing' stamp: 'JuanVanecek 5/1/2017 16:57'!volumenInicialDelReservorioDe: unPozoDeExtraccion 	^ unPozoDeExtraccion yacimiento volumenDeProductoInicial ! !!SistemaDeGestionDePozos methodsFor: 'Accessing-Construccion' stamp: 'JuanVanecek 4/9/2017 22:20'!construirUnPozoEn: unaParcelaDeYacimiento conectadaA: unaPlantaProcesadora con: unaExcavadoraRig arrancandoEl: unaFecha 	| pozo | 		pozo := PozoDeExtraccion en: unaParcelaDeYacimiento conectadaA: unaPlantaProcesadora.		planesDeConstruccion add: (		PlanDeConstruccionDePozo 			para: pozo 			cavadoCon: unaExcavadoraRig 			empezandoEl: unaFecha).	^ pozo! !!SistemaDeGestionDePozos methodsFor: 'Accessing-Construccion' stamp: 'JuanVanecek 5/1/2017 11:16'!construirTanqueDeGas: unTanqueDeGas empezandoEl: unaFecha	planesDeConstruccion add: (		PlanDeConstruccionDeTanqueDeGas			para: unTanqueDeGas			empezandoEl: unaFecha	)! !!SistemaDeGestionDePozos methodsFor: 'Accessing-Construccion' stamp: 'JuanVanecek 4/9/2017 22:23'!construirUnaPlantaProcesadora: unaPlantaProcesadora arrancandoEl: unaFecha 	planesDeConstruccion add: (		PlanDeConstruccionDePlanta			para: unaPlantaProcesadora			empezandoEl: unaFecha)! !!SistemaDeGestionDePozos methodsFor: 'Accessing-Construccion' stamp: 'JuanVanecek 5/1/2017 10:57'!construirTanqueDeAgua: aTanqueDeAlmacenamientoDeAgua empezandoEl: unaFecha	planesDeConstruccion add: (		PlanDeConstruccionDeTanqueDeAgua			para: aTanqueDeAlmacenamientoDeAgua			empezandoEl: unaFecha	) ! !!SistemaDeGestionDePozos methodsFor: 'Accessing-Construccion' stamp: 'JuanVanecek 5/1/2017 15:04'!fechaDeFinConstruccionDe: unPozoDeExtraccion 	^ planesDeConstruccion 		detect: [:plan | plan bienConstruidoOPorConstruir = unPozoDeExtraccion ]		ifFound: [:plan | plan fechaFinDeConstruccion ]		ifNone: [ Exception signal: ('Este simulador no construyo {1}' format: { unPozoDeExtraccion }) ]! !!SistemaDeGestionDePozos methodsFor: 'Initialize' stamp: 'JuanVanecek 5/1/2017 14:12'!initializeCalcuandoPresionCon: unaCalculadoraDePresiones 		super initialize. 		calculadoraDePresion := unaCalculadoraDePresiones.	planesDeConstruccion := OrderedCollection new.	eventosSobrePozos := OrderedCollection new. ! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!SistemaDeGestionDePozos class	instanceVariableNames: ''!!SistemaDeGestionDePozos class methodsFor: 'Instance Creation' stamp: 'JuanVanecek 5/1/2017 13:52'!calcuandoPresionCon: unaCalculadoraDePresiones 	^ self new initializeCalcuandoPresionCon: unaCalculadoraDePresiones ! !Object subclass: #TanqueDeAlmacenamiento	instanceVariableNames: 'plantaProcesadora capacidadTotal tiempoDeConstruccion costoDeConstruccion'	classVariableNames: ''	poolDictionaries: ''	category: 'Tp1-Ing1-Modelo'!!TanqueDeAlmacenamiento methodsFor: 'Initialize' stamp: 'JuanVanecek 4/9/2017 11:27'!initializeConstruidaEnDias: unaCantidadDeDias	conUnCostoTotalDe: unPrecio	conectadoA: unaPlantaProcesadora 	conCapacidadDe: unaCantidadDeVolumen 		tiempoDeConstruccion := unaCantidadDeDias.	costoDeConstruccion := unPrecio.	plantaProcesadora := unaPlantaProcesadora		conectar: self;		yourself.	capacidadTotal := unaCantidadDeVolumen.		! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!TanqueDeAlmacenamiento class	instanceVariableNames: ''!!TanqueDeAlmacenamiento class methodsFor: 'Instance Creation' stamp: 'JuanVanecek 4/9/2017 11:27'!construidaEnDias: unaCantidadDeDias	conUnCostoTotalDe: unPrecio	conectadoA: unaPlantaProcesadora 	conCapacidadDe: unaCantidadDeVolumen 		^ self new 		initializeConstruidaEnDias: unaCantidadDeDias		conUnCostoTotalDe: unPrecio		conectadoA: unaPlantaProcesadora 		conCapacidadDe: unaCantidadDeVolumen ! !TanqueDeAlmacenamiento subclass: #TanqueDeAgua	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'Tp1-Ing1-Modelo'!!TanqueDeAgua methodsFor: 'Accessing' stamp: 'JuanVanecek 5/1/2017 11:05'!tiempoDeConstruccion	^ tiempoDeConstruccion ! !TanqueDeAlmacenamiento subclass: #TanqueDeGas	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'Tp1-Ing1-Modelo'!!TanqueDeGas methodsFor: 'Accessing' stamp: 'JuanVanecek 5/1/2017 11:23'!tiempoDeConstruccion	^ tiempoDeConstruccion ! !Object subclass: #Yacimiento	instanceVariableNames: 'tamanio porcentajeDeAgua porcentajeDeGas porcentajeDePetroleo parcelasLibres volumenInicial'	classVariableNames: ''	poolDictionaries: ''	category: 'Tp1-Ing1-Modelo'!!Yacimiento methodsFor: 'Accessing' stamp: 'JuanVanecek 5/1/2017 16:48'!parcelaLibreDeTipo: unMantoGeologico	presionInicial: unCantidadDePresion 	yDistanciaAlReservorio: unaDistanciaEnMetros	^parcelasLibres > 0 		ifTrue: [ 			parcelasLibres := parcelasLibres - 1.			ParcelaDeYacimiento 				deTipo: unMantoGeologico				conPresionInicial: unCantidadDePresion 				profunidadEnMetros: unaDistanciaEnMetros				alReservorioEn: self.		 ]		ifFalse: [ AssertionFailure signal: 'No hay más parcelas disponibles para este yacimiento' ]! !!Yacimiento methodsFor: 'Accessing' stamp: 'JuanVanecek 5/1/2017 16:49'!volumenDeProductoInicial	^ volumenInicial ! !!Yacimiento methodsFor: 'Initialize' stamp: 'JuanVanecek 5/1/2017 16:00'!initializeDeTamanioEnHectareas: unasHectareas	volumenDeProducto: unVolumen	compuestoPorAguaEn: unPorcentajeDeAgua	porGasEn: unPorcentajeDeGas	yEnPetroleo: unPorcentajeDePetroleo		tamanio := unasHectareas.	volumenInicial := unVolumen.	parcelasLibres := unasHectareas.	porcentajeDeAgua := unPorcentajeDeAgua.	porcentajeDeGas := unPorcentajeDeGas.	porcentajeDePetroleo := unPorcentajeDePetroleo! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Yacimiento class	instanceVariableNames: ''!!Yacimiento class methodsFor: 'Instance Creation' stamp: 'JuanVanecek 5/1/2017 16:05'!deTamanioEnHectareas: unasHectareas	volumenDeProducto: unVolumen	compuestoPorAguaEn: unPorcentajeDeAgua	porGasEn: unPorcentajeDeGas	yEnPetroleo: unPorcentajeDePetroleo		self 		assertSumanCien: (Array with: unPorcentajeDeAgua with: unPorcentajeDeGas with: unPorcentajeDePetroleo);		assertCantidadAdecuadaDeProducto: unVolumen.		^self new		initializeDeTamanioEnHectareas: unasHectareas		volumenDeProducto: unVolumen		compuestoPorAguaEn: unPorcentajeDeAgua		porGasEn: unPorcentajeDeGas		yEnPetroleo: unPorcentajeDePetroleo! !!Yacimiento class methodsFor: 'Asserting' stamp: 'JuanVanecek 4/9/2017 22:25'!assertSumanCien: aNumberCollection 	(self sumOfAll: aNumberCollection startingWith: 0) = 100 		ifFalse: [AssertionFailure signal: 'Los compuestos tienen que sumar el 100% del reservorio'].! !!Yacimiento class methodsFor: 'Asserting' stamp: 'JuanVanecek 5/1/2017 16:09'!assertCantidadAdecuadaDeProducto: unVolumen		^ (unVolumen between: self minimaCantidadDeProducto and: self maximaCantidadDeProducto)		ifFalse: [ AssertionFailure signal: (			'La cantidad de producto tiene que estar entre {1} y {2} m3' format: { self minimaCantidadDeProducto . self maximaCantidadDeProducto })]! !!Yacimiento class methodsFor: 'Accessing' stamp: 'JuanVanecek 4/9/2017 22:25'!sumOfAll: aCollection startingWith: aSeed 	^ aCollection 		inject: aSeed		into: [:accumulatedValue :addend | accumulatedValue + addend]! !!Yacimiento class methodsFor: 'Accessing' stamp: 'JuanVanecek 5/1/2017 16:07'!maximaCantidadDeProducto		^ 1000000000! !!Yacimiento class methodsFor: 'Accessing' stamp: 'JuanVanecek 5/1/2017 16:07'!minimaCantidadDeProducto		^ 10000000! !